# 分布式任务调度系统环境变量配置示例
# 复制此文件为 .env 并根据需要修改配置值

# 数据库配置
SCHEDULER_DATABASE_URL=postgresql://localhost:5432/scheduler
SCHEDULER_DATABASE_MAX_CONNECTIONS=20
SCHEDULER_DATABASE_MIN_CONNECTIONS=2
SCHEDULER_DATABASE_CONNECTION_TIMEOUT_SECONDS=30
SCHEDULER_DATABASE_IDLE_TIMEOUT_SECONDS=600

# 消息队列配置
SCHEDULER_MESSAGE_QUEUE_URL=amqp://localhost:5672
SCHEDULER_MESSAGE_QUEUE_TASK_QUEUE=tasks
SCHEDULER_MESSAGE_QUEUE_STATUS_QUEUE=status_updates
SCHEDULER_MESSAGE_QUEUE_HEARTBEAT_QUEUE=heartbeats
SCHEDULER_MESSAGE_QUEUE_CONTROL_QUEUE=control
SCHEDULER_MESSAGE_QUEUE_MAX_RETRIES=3
SCHEDULER_MESSAGE_QUEUE_RETRY_DELAY_SECONDS=60
SCHEDULER_MESSAGE_QUEUE_CONNECTION_TIMEOUT_SECONDS=30

# Dispatcher配置
SCHEDULER_DISPATCHER_ENABLED=true
SCHEDULER_DISPATCHER_SCHEDULE_INTERVAL_SECONDS=10
SCHEDULER_DISPATCHER_MAX_CONCURRENT_DISPATCHES=100
SCHEDULER_DISPATCHER_WORKER_TIMEOUT_SECONDS=90
SCHEDULER_DISPATCHER_DISPATCH_STRATEGY=round_robin

# Worker配置
SCHEDULER_WORKER_ENABLED=false
SCHEDULER_WORKER_WORKER_ID=worker-001
SCHEDULER_WORKER_HOSTNAME=localhost
SCHEDULER_WORKER_IP_ADDRESS=127.0.0.1
SCHEDULER_WORKER_MAX_CONCURRENT_TASKS=5
SCHEDULER_WORKER_SUPPORTED_TASK_TYPES=shell,http
SCHEDULER_WORKER_HEARTBEAT_INTERVAL_SECONDS=30
SCHEDULER_WORKER_TASK_POLL_INTERVAL_SECONDS=5

# API配置
SCHEDULER_API_ENABLED=true
SCHEDULER_API_BIND_ADDRESS=0.0.0.0:8080
SCHEDULER_API_CORS_ENABLED=true
SCHEDULER_API_CORS_ORIGINS=*
SCHEDULER_API_REQUEST_TIMEOUT_SECONDS=30
SCHEDULER_API_MAX_REQUEST_SIZE_MB=10

# 可观测性配置
SCHEDULER_OBSERVABILITY_TRACING_ENABLED=true
SCHEDULER_OBSERVABILITY_METRICS_ENABLED=true
SCHEDULER_OBSERVABILITY_METRICS_ENDPOINT=/metrics
SCHEDULER_OBSERVABILITY_LOG_LEVEL=info
SCHEDULER_OBSERVABILITY_JAEGER_ENDPOINT=http://localhost:14268/api/traces