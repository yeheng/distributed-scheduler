# 开发环境配置文件

[database]
url = "postgresql://postgres:123456@localhost:5432/scheduler"
max_connections = 10
min_connections = 1
connection_timeout_seconds = 30
idle_timeout_seconds = 600

[message_queue]
# 消息队列类型: "rabbitmq" 或 "redis_stream"
type = "redis_stream"
url = "redis://localhost:6379"
task_queue = "tasks"
status_queue = "status_updates"
heartbeat_queue = "heartbeats"
control_queue = "control"
max_retries = 3
retry_delay_seconds = 60
connection_timeout_seconds = 30

# Redis Stream配置（当type = "redis_stream"时使用）
[message_queue.redis]
host = "localhost"
port = 6379
database = 0
connection_timeout_seconds = 30
max_retry_attempts = 3
retry_delay_seconds = 1

# RabbitMQ配置示例（当type = "rabbitmq"时）
# [message_queue]
# type = "rabbitmq"
# url = "amqp://guest:guest@localhost:5672"

[dispatcher]
enabled = true
schedule_interval_seconds = 10
max_concurrent_dispatches = 100
worker_timeout_seconds = 90
dispatch_strategy = "round_robin"

[worker]
enabled = false
worker_id = "dev-worker-001"
hostname = "localhost"
ip_address = "127.0.0.1"
max_concurrent_tasks = 5
supported_task_types = ["shell", "http"]
heartbeat_interval_seconds = 30
task_poll_interval_seconds = 5

[api]
enabled = true
bind_address = "127.0.0.1:8080"
cors_enabled = true
cors_origins = ["*"]
request_timeout_seconds = 30
max_request_size_mb = 10

[observability]
tracing_enabled = true
metrics_enabled = true
metrics_endpoint = "/metrics"
log_level = "debug"
jaeger_endpoint = "http://localhost:14268/api/traces"