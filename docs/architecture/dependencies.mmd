graph TD
  core --> domain
  core --> errors
  dispatcher --> errors
  dispatcher --> domain
  dispatcher --> infrastructure
  dispatcher --> application
  dispatcher --> observability
  observability --> domain
  observability --> config
  testing-utils --> domain
  testing-utils --> errors
  api --> application
  api --> domain
  api --> infrastructure
  api --> errors
  api --> config
  api --> observability
  application --> domain
  application --> config
  application --> errors
  application --> infrastructure
  worker --> core
  worker --> domain
  worker --> application
  worker --> infrastructure
  worker --> errors
  worker --> config
  worker --> observability
  infrastructure --> domain
  infrastructure --> errors
  infrastructure --> config
  infrastructure --> observability
  domain --> errors

  classDef layer0 fill:#e1f5fe
  classDef layer1 fill:#e8f5e8
  classDef layer2 fill:#fff3e0
  classDef layer3 fill:#fce4ec
  classDef layer4 fill:#f3e5f5
  class errors layer0
  class config layer0
  class domain layer1
  class core layer2
  class application layer3
  class infrastructure layer3
  class observability layer3
  class testing-utils layer3
  class dispatcher layer4
  class worker layer4
  class api layer4